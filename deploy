#!/bin/bin

#────────────────────────────────────────────────────────────────┐
# ─ copiar todo y pegar en la terminal de linux de tu servidor ─ │
#────────────────────────────────────────────────────────────────┘

DIRECTORY="$(pwd)/www"
mkdir $DIRECTORY && cd $DIRECTORY

echo "
┌────────────────────────────────────────────────────────────────┐
│                      desarrollado por:                         │
│             (Byancode S.A.C) cesar@byancode.com                │
└────────────────────────────────────────────────────────────────┘
"
ln -sf /usr/share/zoneinfo/Etc/UTC /etc/localtime

ENDPOINT="https://raw.githubusercontent.com/byancode/doravel/main"
DISTRO=$(cat /etc/os-release | grep "^ID=" | cut -d= -f2)
DISTRO=${DISTRO//\"/}

bash <(curl -s $ENDPOINT/scripts/install)
curl -s $ENDPOINT/deps/$DISTRO | bash

git config --global user.name  "Edu"
git config --global user.email "filtrosperu@gmail.com"

echo "LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUNGd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFnRUFxZVhXUDNKUkovNnc4SmcwM0l4TWNUeTU5Rkw4RTM0TjJqd0lzQ0QrTURQSmZUeHdFUVVFCm96UEszT3k4V0lZZWxEKzRIUGp4ZTZyZlhVWFIzdVNUUGs1ekdiRFpRb0FpYzl5QXB5WENoQ2hZT0s1SXVySCt5VGwrRDkKcjZRY0tCNDRRYndXUzdqak9rYjhQQlJ5amxMeXE0aWlGazlOOFVpQXZpcEZUZ0tWWlNtc2dtVUI4NXV2eWovM1F6UzAwOApHeW53cVlibDRJajVHbGZvZzg0R2wwajQxRlAyRGlNMnY5YUk1cGVVWnJxRXZpbHNqSjFBWjBkZHUrOHgwSTl5MkFBaGxKCllQcS9UYWI0VmEzU3dSa3puamNQWEZyNUU3RGZFY09xM0pnYUJwSWZmdklXaTI4dXB6Ni93RU96aFFsY2ZUWmp6MlVjNWUKUkM3ZnllRzNiVElyVi91RmZjVTNuWW1HMmMveVE3ZGhOcHhIZWtuRUVhZHBvT3FVUHlEZjBZalFxT2Y1ei85LzZSM1VCMQovdXJGalc2dnZCcy9Ddy9zZUFLbWlxVzRiVTcwUUlkbExkWkoySVJVay81M1dsRE9OVW9vQ3N2eWxDb1VDZllkNmpCMnVMCndueXJ4K093S050eHo1bElldEFMRkxkUEd6R2t1bXVkaHRaWkV0czN2NzFveXh4SHBNTFFIMmdieFJReW1NZHllcUZ3V2sKOTFBcnlpWkNjVy9IQUpVVmFYbWtESWxHaWswMEZDQzNaY3UwWitNM0JraktvckRDalA4NHJ0WUZTNnBjcVJCUVNNYzRodwpBMEFmSTNhM0UwWVRBZnVLSG44WThlVVpwR0N3eXZnNGFlYVdEczZQbXcyTzdWb3QrUmxWbkkwUnJIQ0xmeFdCWWdHeFRmCmNBQUFjNDcva1ZPdS81RlRvQUFBQUhjM05vTFhKellRQUFBZ0VBcWVYV1AzSlJKLzZ3OEpnMDNJeE1jVHk1OUZMOEUzNE4KMmp3SXNDRCtNRFBKZlR4d0VRVUVvelBLM095OFdJWWVsRCs0SFBqeGU2cmZYVVhSM3VTVFBrNXpHYkRaUW9BaWM5eUFweQpYQ2hDaFlPSzVJdXJIK3lUbCtEOXI2UWNLQjQ0UWJ3V1M3ampPa2I4UEJSeWpsTHlxNGlpRms5TjhVaUF2aXBGVGdLVlpTCm1zZ21VQjg1dXZ5ai8zUXpTMDA4R3lud3FZYmw0SWo1R2xmb2c4NEdsMGo0MUZQMkRpTTJ2OWFJNXBlVVpycUV2aWxzakoKMUFaMGRkdSs4eDBJOXkyQUFobEpZUHEvVGFiNFZhM1N3Umt6bmpjUFhGcjVFN0RmRWNPcTNKZ2FCcElmZnZJV2kyOHVwego2L3dFT3poUWxjZlRaanoyVWM1ZVJDN2Z5ZUczYlRJclYvdUZmY1UzblltRzJjL3lRN2RoTnB4SGVrbkVFYWRwb09xVVB5CkRmMFlqUXFPZjV6LzkvNlIzVUIxL3VyRmpXNnZ2QnMvQ3cvc2VBS21pcVc0YlU3MFFJZGxMZFpKMklSVWsvNTNXbERPTlUKb29Dc3Z5bENvVUNmWWQ2akIydUx3bnlyeCtPd0tOdHh6NWxJZXRBTEZMZFBHekdrdW11ZGh0WlpFdHMzdjcxb3l4eEhwTQpMUUgyZ2J4UlF5bU1keWVxRndXazkxQXJ5aVpDY1cvSEFKVVZhWG1rRElsR2lrMDBGQ0MzWmN1MForTTNCa2pLb3JEQ2pQCjg0cnRZRlM2cGNxUkJRU01jNGh3QTBBZkkzYTNFMFlUQWZ1S0huOFk4ZVVacEdDd3l2ZzRhZWFXRHM2UG13Mk83Vm90K1IKbFZuSTBSckhDTGZ4V0JZZ0d4VGZjQUFBQURBUUFCQUFBQ0FFQXdZa3hSVEFFdzFEZnFRWnFMOVR1WkptWjlUZGl0ZU4xWgpiaXpoSWpnaThMNjhyVmg0eldJOXFLamtWbHFadllia05oTFlLU0JBbENoZ3Z5U1h0bHZGZHU0ZlowNGRMQ2NiQ1k1ZEVVCnN1RlByQk9pQXpMS0JvOU14WHZ0SkdneDFxNWJPZzg4MkxqRlpmbnEvY2J3NXRkUkJYQXBZVGpHWEVHOHBiZU4rVlNodEoKZ0ZRb0gvOGFBWG43dEgrQVBEUEZHalJxajRKUUxkRTZvbEhkN3BhTXp0b2xxS0o1d204alJsRGN0d2hDOHZFSHBJZlJ4NgpuZGlEZi9iSkl3Q0VNOGRYTjJhSkJlcjRLUDN4OE56Y3dTaEhCQ293QXNmaVBMMHc4R1pzbnZTWms0VzZRRE5JKzliYk9jCllScmdzVzJOZER5OXpwQmt5Qys1aC9wMXFYOWQ2MTdxWmlFYTZ3UGRHSlp1R2F5Q09abFRsTzZYOWpOcXQxZ0dENWs1eVkKU2JSaHo5ZjZUTGlObGkwQXo5VE96QmxoQTJhT2FWZ2JUNjRhdUQ3ajVVWXZXS3gvVk1zbFdsQ1M4NVVHcHZOR3pjM242aAovbEdvYitKczlYaTFIWG5SOENIT1BuMmZNZzdWclFhTnIyVjRoSkdHWXdHOHZBb0xUUHhORUxXM00rTThUK0psQWNCc2tZCkdaNXJndTlDbVh5cEJ2aFZ1T3BJajY4WC9ZMmRDZnFIWHgvdzV1MkJDOUkvajBsT2x4aHlMeFk3aldhckdmZzk1Zm9qOUsKazFBbDdWQzI0ZGNFWTdZeGxKVmZyVzJCN0hvL3NjQ0FoTlFmS1FhQ0pDK2NNb0xoa1RBZWxaSmJTUWl1dXdXTll0NW9SNgpYYmJvWXlJV2N4bzQ4N0xOYXhBQUFCQUZtM3NQT1ZjeTVyRHZjbjFVUk54NmRsdDgyS0lTbE5Ib3k0Z2lqTDQrUERDUVVqClE3SHpWbTlncHVvdS8vZExQZEV3OXR4bllzQXRhQVlpVkhKTnVERHdYRGc4UnUzbENFejAzRFRNajBKeURvNmdJSXQ2bGYKZ3o4UlpnTy9OQ3pGekJleVV0UVpaU1hCeE9UUzRITzZzYWVpdGl5MUtRcjJlYkY1NlBRRlZJTDdEUytzZGVmMDlOOUk5QQovVVhVMTRHNWhWKzRJMjhHMkl1NDM2cFY3K0lITElIa0FvUlg1b0gxT2JnRHpRNm5KK3hSUVRYWEoxVVd0ejlQNmJCYlZGCi9KQm1DL2RNL2lqc3JQUXhXbVE0bFlIUEdyM013ZTFCWk9HMGRUVkV0QXg5eXBvRzBjMW1FckpocXEvM1ZSTHdLT3cvazAKanM2SWVlczBCTEhGZ2I4QUFBRUJBTTZ2MDc2dXBkUlZkREFua0t2T2VqcEFyN295VTZ2aXN3VkdSdWZkZ1NZUlhhQVBqMgpiaFhpRkJ3NXEyRTdLNUR6Y1M0Wi8xbjkzdHBDRFBHQUZMazhJSkVveEVoMllWUXo5SEdDNU5VUmd4RTUvKzNoYlAvak9sCjRmMkpLUXpTZmprT2pqb2FjdExNZzNYdXlsWmkwb1NaWVI0R0U1NGh3YzRuTWpJM2VwTXdXaWFYSUFEajNyS08xbWtTVzkKZ1Z5TkgyVjRVSHQzZkNhV0g1aVIwYThPeUxyRC8ybmVSSTdUVFR5d1V2N1Flc1pNVmNGU1FnSThOS1VUNG9RcnNkbWZJcApqSUluTXFVTmZYT0lpVTQvaFJtMFhRRDJmSDE0ZEFLb1Y1YTNaaWxURyt2dzJ5SWJSR01LVFh4ZHlqNEtRQmhVTWxCYlJzCnhvUVl3K005WGNNZ2NBQUFFQkFOSnUrMjhLUG5wY1N6VldBWktFdFplaW9MVk5NUnlvN2hmNjJJMGJIRkhOUm5TcVNmajcKQkU3K1p1WmFFZjlWVi8vdTM1R0VpRUpodWsvd3V3QnBUREh4VTVLekt1NWd0SSsybEJ6N292bzV0N1hlQjl4RkFZZUFRUQo0UEUzRnFwVERyQkkvbWxaUm52aHdQT2R2cVlDVUF6eDNhS3ZtQTRveE1rZllsUng3bzBJZHRtRGY3R2hTWkg3cVlHQitKCmVhb2ZPUk5OV3hCUU5oMXhPb0dURyt3SExkS2ZyYnFOa0Q5aVBPbGF4cm9UUGRYTzhZczk5b1RSTmw2NFRtbGxxR1k0MW8KZ3NlSXpZaHc3VkVzVE5iM3VCZWk3TXU2VkZjVVVaUEc1YThqeGVhWENFRUtZalFzeU1jK2wxbnIxelAySlkyeWQ4MXBhbgpqbUJ6bXNraFNKRUFBQUFBQVFJRAotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K" | base64 -d > $HOME/.ssh/id_rsa
echo "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFDQVFDcDVkWS9jbEVuL3JEd21EVGNqRXh4UExuMFV2d1RmZzNhUEFpd0lQNHdNOGw5UEhBUkJRU2pNOHJjN0x4WWhoNlVQN2djK1BGN3F0OWRSZEhlNUpNK1RuTVpzTmxDZ0NKejNJQ25KY0tFS0ZnNHJraTZzZjdKT1g0UDJ2cEJ3b0hqaEJ2QlpMdU9NNlJ2dzhGSEtPVXZLcmlLSVdUMDN4U0lDK0trVk9BcFZsS2F5Q1pRSHptNi9LUC9kRE5MVFR3YktmQ3BodVhnaVBrYVYraUR6Z2FYU1BqVVUvWU9JemEvMW9qbWw1Um11b1MrS1d5TW5VQm5SMTI3N3pIUWozTFlBQ0dVbGcrcjlOcHZoVnJkTEJHVE9lTnc5Y1d2a1RzTjhSdzZyY21Cb0draDkrOGhhTGJ5Nm5Qci9BUTdPRkNWeDlObVBQWlJ6bDVFTHQvSjRiZHRNaXRYKzRWOXhUZWRpWWJaei9KRHQyRTJuRWQ2U2NRUnAybWc2cFEvSU4vUmlOQ281L25QLzMvcEhkUUhYKzZzV05icSs4R3o4TEQreDRBcWFLcGJodFR2UkFoMlV0MWtuWWhGU1QvbmRhVU00MVNpZ0t5L0tVS2hRSjloM3FNSGE0dkNmS3ZINDdBbzIzSFBtVWg2MEFzVXQwOGJNYVM2YTUyRzFsa1MyemUvdldqTEhFZWt3dEFmYUJ2RkZES1l4M0o2b1hCYVQzVUN2S0prSnhiOGNBbFJWcGVhUU1pVWFLVFRRVUlMZGx5N1JuNHpjR1NNcWlzTUtNL3ppdTFnVkxxbHlwRUZCSXh6aUhBRFFCOGpkcmNUUmhNQis0b2VmeGp4NVJta1lMREsrRGhwNXBZT3pvK2JEWTd0V2kzNUdWV2NqUkdzY0l0L0ZZRmlBYkZOOXc9PSAK" | base64 -d > $HOME/.ssh/id_rsa.pub

chmod 600 $HOME/.ssh/id_rsa

LANG=en_US

expect <<END
    set timeout -1
    spawn git clone --branch=main git@github.com:caremperador/subirvideos.git .

    expect "continue connecting\r"
    send "yes\r"

    expect eof
END

read -p "¿Desea iniciar el proyecto? (y/n): " RESPONSE

if [ "$RESPONSE" == 'y' ]; then
    ./doravel up --env test -d
fi